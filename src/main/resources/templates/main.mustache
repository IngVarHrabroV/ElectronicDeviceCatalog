<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Main page</title>
</head>

<style>
    table, th, td {
        border:1px solid black;
        border-collapse: collapse;
    }
</style>

<body>
    <form method="post" action="logout" >
        <input type="submit" value="Sign Out"/>
        <input type="hidden" name="_csrf" value="{{_csrf.token}}">
    </form>

    <div>
        <p>Добавить товар</p>
        <form method="post" action="main">
            <input type="text" name="productName" placeholder="Введите название товара">
            <input type="text" name="category" placeholder="Введите категорию">
            <button type="submit">Добавить товар в список</button>
            <input type="hidden" name="_csrf" value="{{_csrf.token}}">
        </form>

        <p>Редактировать информацию о товаре</p>
        <form method="post" action="edit">
            <input type="number" name="productID" placeholder="Введите ID товара">
            <br>
            Что редактируем:
            <select name="kindOfEditInformation">
                <option value="editProductName" selected>Имя товара</option>
                <option value="editProductCategory">Категорию товара</option>
            </select>
            ?
            <br>
            <input type="text" name="editInformation" placeholder="Введите изменения">
            <button type="submit">Внести изменения</button>
            <input type="hidden" name="_csrf" value="{{_csrf.token}}">
        </form>
        {{#idForEditDidntFound}}
            ID = {{editingId}} didn't found!
        {{/idForEditDidntFound}}

        <p>Удалить товар</p>
        <form method="post" action="delete">
            <input type="number" name="productID" placeholder="Введите ID товара">
            <button type="submit">Удалить товар</button>
            <input type="hidden" name="_csrf" value="{{_csrf.token}}">
        </form>
        {{#idForDeleteDidntFound}}
            ID = {{deletingId}} didn't found!
        {{/idForDeleteDidntFound}}
    </div>

    <div>
        <p>Найти товар</p>
        <form method="get" action="main">
            <input type="text" name="filter" placeholder="Введите категорию">
            <button type="submit">Найти товары</button>
        </form>
    </div>

    <h2>Список товаров</h2>
    <table >
        <tr>
            <th>Id</th>
            <th style="width: auto">Products name</th>
            <th>Category</th>
        </tr>
        {{#products}}
            <tr>
                <td>{{id}}</td>
                <td>{{productName}}</td>
                <td>{{category}}</td>
            </tr>
        {{/products}}
    </table>

    {{#productDidntFound}}
        Product didn't found!
    {{/productDidntFound}}

    <form method="get" action="main">
        <button type="submit">Показать все товары</button>
    </form>

</body>
</html>